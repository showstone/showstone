---
layout: post
title: "编译vim以支持lua"
description: "编译vim以支持lua"
category: 软件配置 
tags: [vim, 编译, lua, python]
---

通过brew install vim安装vim后,发现其不支持lua,导致有一部分插件没法使用,于是想自己重新编译一个vim.

1.  下载源代码
  
        git clone https://github.com/vim/vim.git   
        cd vim

2. 设置编译参数

    如果要添加python/lua等的支持,需要保证其在vi的默认路径里,或者需要手动指定,否则该语言的特性支持就会失效

        ./configure --with-features=huge --enable-rubyinterp \    
        --enable-pythoninterp --enable-luainterp --with-lua-prefix=/usr/local/ 
        --enable-perlinterp --enable-multibyte --enable-sniff  \
        --enable-fontset --enable-cscope \    
        --disable-gui --prefix=/opt/local/vim  
        
        --with-features=huge：支持最大特性  
        --enable-rubyinterp：启用Vim对ruby的支持  
        --enable-pythoninterp：启用Vim对python的支持  
        --enable-luainterp：启用Vim对lua的支持  
        --with-lua-prefix:指定lua的安装路径,默认为$LUA_PREFIX或者/usr 
        --enable-perlinterp：启用Vim对perl的支持  
        --enable-multibyte：多字节支持 可以在Vim中输入中文  
        --enable-sniff：Vim状态提示 提示Vim当前处于INSERT、NORMAL、VISUAL哪种模式  
        --enable-cscope：Vim对cscope支持  
        --disable-gui：不用编译生成图形界面版gvim  
        --prefix=/opt/local/vim：编译安装路径  

3. 编译\安装
  
        make    
        make install


